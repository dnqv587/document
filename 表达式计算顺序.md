# 表达式计算顺序

函数参数或是操作符中的操作数，表达式求值次序是不一定的，每个特定机器、操作系统、编译器也都不一样。

C/C++中除了 (&& 、 || 、  ? : 和  , )这四种操作符计算顺序是一定的之外，其他操作符是不能识别哪一个操作数先被计算

> > ## 函数参数中表达式计算顺序

+ 案例1

  ```c++
  int i=100;
  printf("results are %d and %d",i,i+=1);
  ```

+ 案例2

  ```c++
  int i=100;
  int func1()
  {
      return i;
  }
  int func2()
  {
      return i +=1；
  }
  printf("results are %d and %d",func1(),func2());
  ```

  因为函数参数中表达式计算顺序是不固定的，所以打印出来的结果也是不一定的，可能是100 101，也可能是101 101 

**为避免这一问题，凡是在参数表中出现过一次以上的变量在传递时不给改变其值**

> > ## 操作符中表达式计算顺序

```c++
int result=a() * b() * c();
```

操作符中表达式计算顺序也是不固定的

**解决方法：显式的指定中间变量，保证固定的表达式求值顺序**

```c++
int para1=a();
int para2=b();
int result=para1 * para2 * c();
```

